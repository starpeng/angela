<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />

        <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
        Remove this if you use the .htaccess -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

        <title>default</title>
        <meta name="description" content="" />
        <meta name="generator" content="Studio 3 http://aptana.com/" />
        <meta name="author" content="vicanso" />

        <link rel="stylesheet" href="../../theme/jquery.angela.min.css" />
        <style type="text/css">
        *
        {
            margin:0;
            padding:0;
        }
        body
        {
            font-family: "Times New Roman", "\5B8B\4F53";
            font-size:16px;
        }
        #infor h3
        {
            cursor:pointer;
        }
        #infor p.attr
        {
            display:none;
            margin:5px 0;
        }
        #infor span.note
        {
            color:#a0a0a0;
            font-size:12px;
        }
        .colorWhite
        {
            color:#f0f0f0;
        }
        td.bigTd
        {
            width:60px;
            height:60px;
            line-height:60px;
        }
        .testTD
        {
            background:url(../face.png) no-repeat bottom center;
            line-height:30px;
        }
        .css3Color1
        {
            color:#f0f0f0;
            background:rgb(186, 85, 211);
            background:rgba(186, 85, 211, 0.9);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ba55d3',endColorstr='#4b0082', GradientType='0');
            -ms-filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ba55d3',endColorstr='#4b0082', GradientType='0');
            background:-webkit-gradient(linear,0 0,0 100%,color-stop(0%,rgba(186, 85, 211, 0.9)),color-stop(100%,rgba(75, 0, 130, 0.9)));
            background:-moz-linear-gradient(top, rgba(186, 85, 211, 0.9), rgba(75, 0, 130, 0.9));
            background:linear-gradient(top, rgba(186, 85, 211, 0.9), rgba(75, 0, 130, 0.9));
        }
        .css3Color2
        {
            background:rgb(123, 104, 238);
            background:rgba(123, 104, 238, 0.9);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#7b68ee',endColorstr='#483d8b', GradientType='0');
            -ms-filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#7b68ee',endColorstr='#483d8b', GradientType='0');
            background:-webkit-gradient(linear,0 0,0 100%,color-stop(0%,rgba(123, 104, 238, 0.9)),color-stop(100%,rgba(72, 61, 139, 0.9)));
            background:-moz-linear-gradient(top, rgba(123, 104, 238, 0.9), rgba(72, 61, 139, 0.9));
            background:linear-gradient(top, rgba(123, 104, 238, 0.9), rgba(72, 61, 139, 0.9));
        }
        .css3Color3
        {
            background:rgb(205, 92, 92);
            background:rgba(205, 92, 92, 0.9);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#cd5c5c',endColorstr='#800000', GradientType='0');
            -ms-filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#cd5c5c',endColorstr='#800000', GradientType='0');
            background:-webkit-gradient(linear,0 0,0 100%,color-stop(0%,rgba(205, 92, 92, 0.9)),color-stop(80%,rgba(128, 0, 0, 0.9)), color-stop(100%,rgba(128, 0, 0, 0.9)));
            background:-moz-linear-gradient(top, rgba(205, 92, 92, 0.9), rgba(128, 0, 0, 0.9) 80%, rgba(128, 0, 0, 0.9));
            background: linear-gradient(top, rgba(205, 92, 92, 0.9), rgba(128, 0, 0, 0.9) 80%, rgba(128, 0, 0, 0.9));
        }
        </style>
    </head>
    <body>
        <h3>datePikcer</h3>
        <p>datePicker只是提供了一个日期选择的控件，并没有提供直接绑定到input输入日期，不过很容易实现，下面是一个完整的示例。代码请查看页面源代码。</p>
        <span>请选择日期：</span><input id="inputDemo" type="text" />
    </body>
    <script type="text/javascript" src="../../javascript/jquery.min.js"></script>
    <script type="text/javascript" src="../../javascript/jquery.angela.min.js"></script>
    <script type="text/javascript">
        $(function()
        {
            var datePicker = null;
            var destroyFlag = false;
            var specialDayList = {
                "03/04/2011" : {
                    specialClass : "testTD",
                    desc : "今天是特别的日子"
                },
                "03/21/2011" : {
                    specialClass : "testTD",
                    desc : "今天我没有吃饭"
                }                
            };
            $("#inputDemo").focus(function()
            {
                var inputDemo = $(this);
                if(datePicker)
                {
                    return ;
                }
                var obj = $(this);
                var offset = obj.offset();
                datePicker = $("<div />").hide().appendTo("body").css({left : offset.left, top : offset.top + obj.outerHeight(true) + 2});
                datePicker.datePicker({
                    select : function(target, dateStr, dateObj, e)
                    {
                        $("#inputDemo").val(dateStr);
                        datePicker.datePicker("destroy", true);
                        datePicker = null;
                    },
                    dateStr : inputDemo.val(),
                    dayClass : "bigTd",
                    specialDayList : specialDayList,
                    hoverClass : "css3Color1",
                    todayClass : "css3Color2",
                    originalDateClass : "css3Color3"
                })
                .slideDown();
                datePicker.hover(function()
                {
                    destroyFlag = false;
                },
                function()
                {
                    destroyFlag = true;
                })
                .click(function()
                {
                    $("#inputDemo").focus();
                });
            })
            .blur(function()
            {
                if(destroyFlag)
                {
                    datePicker.datePicker("destroy", true);
                    datePicker = null;
                }
            })
            .keydown(function()
            {
                return false; 
            });
        });
    </script>
</html>