window.jQuery&&function(i){i.extend({xml2json:function(c,k){function h(b,o){if(!b)return null;var f="",a=null,m=null;l(b.localName||b.nodeName);b.childNodes&&b.childNodes.length>0&&i.each(b.childNodes,function(d,e){d=e.nodeType;var g=l(e.localName||e.nodeName),n=e.text||e.nodeValue||"";if(d!=8)if(d==3||d==4||!g)n.match(/^\s+$/)||(f+=n.replace(/^\s+/,"").replace(/\s+$/,""));else{a=a||{};if(a[g]){a[g].length||(a[g]=j(a[g]));a[g][a[g].length]=h(e,true)}else{a[g]=h(e);if(a[g])a[g].length||(a[g]=j(a[g]))}}});
if(b.attributes)if(b.attributes.length>0){m={};a=a||{};i.each(b.attributes,function(d,e){d=l(e.name);e=e.value;m[d]=e;if(a[d]){a[d].length||(a[d]=j(a[d]));a[d][a[d].length]=e;a[d].length=a[d].length}else a[d]=e})}if(a){a=i.extend(f!=""?new String(f):{},a||{});if(f=a.text?(typeof a.text=="object"?a.text:[a.text||""]).concat([f]):f)a.text=f;f=""}b=a||f;if(k){if(f)b={};if(f=b.text||f||"")b.text=f;o||(b=j(b))}return b}if(!c)return{};var l=function(b){return String(b||"").replace(/-/g,"_")},j=function(b){if(!b.length){b=
[b];b.length=b.length}return b};if(typeof c=="string")c=i.text2xml(c);if(c.nodeType){if(c.nodeType==3||c.nodeType==4)return c.nodeValue;c=c.nodeType==9?c.documentElement:c;var p=h(c,true);c=c=null;return p}},text2xml:function(c){var k;try{var h=i.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;h.async=false}catch(l){throw new Error("XML Parser could not be instantiated");}try{k=i.browser.msie?h.loadXML(c)?h:false:h.parseFromString(c,"text/xml")}catch(j){throw new Error("Error parsing XML string");
}return k}})}(jQuery);
